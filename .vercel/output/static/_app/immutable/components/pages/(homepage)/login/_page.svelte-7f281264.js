import{S as W,i as J,s as K,T as N,U as Q,k as y,w as C,a as L,l as E,m as V,x as D,c as O,h as u,n as B,b as A,G as _,y as z,P as X,V as Y,f as d,t as v,d as Z,z as q,q as P,r as S,u as ee,g as te}from"../../../../chunks/index-eaa75a16.js";import{g as ae}from"../../../../chunks/navigation-f9f414d1.js";import{A as se}from"../../../../chunks/Alert-818752e5.js";import{B as G}from"../../../../chunks/Button-d077c606.js";import{I as ne}from"../../../../chunks/Input-9a1c64f8.js";import{s as re}from"../../../../chunks/db-8e0000c5.js";function T(r){let t,a;return t=new se({props:{type:"error",$$slots:{default:[oe]},$$scope:{ctx:r}}}),t.$on("close",r[4]),{c(){C(t.$$.fragment)},l(e){D(t.$$.fragment,e)},m(e,n){z(t,e,n),a=!0},p(e,n){const c={};n&34&&(c.$$scope={dirty:n,ctx:e}),t.$set(c)},i(e){a||(d(t.$$.fragment,e),a=!0)},o(e){v(t.$$.fragment,e),a=!1},d(e){q(t,e)}}}function oe(r){let t=r[1].message+"",a;return{c(){a=P(t)},l(e){a=S(e,t)},m(e,n){A(e,a,n)},p(e,n){n&2&&t!==(t=e[1].message+"")&&ee(a,t)},d(e){e&&u(a)}}}function le(r){let t;return{c(){t=P("Login with magic link")},l(a){t=S(a,"Login with magic link")},m(a,e){A(a,t,e)},d(a){a&&u(t)}}}function ie(r){let t;return{c(){t=P("Back to betteravatar.app")},l(a){t=S(a,"Back to betteravatar.app")},m(a,e){A(a,t,e)},d(a){a&&u(t)}}}function ue(r){let t;return{c(){t=P("Help")},l(a){t=S(a,"Help")},m(a,e){A(a,t,e)},d(a){a&&u(t)}}}function fe(r){let t,a,e,n,c,w,k,i,j,b,m,p,x,$,H,F,M;function U(s){r[3](s)}let R={id:"email",label:"E-mail",block:!0};r[0]!==void 0&&(R.value=r[0]),n=new ne({props:R}),N.push(()=>Q(n,"value",U,r[0]));let o=r[1]&&T(r);return i=new G({props:{endIcon:"arrow_forward",block:!0,type:"submit",$$slots:{default:[le]},$$scope:{ctx:r}}}),p=new G({props:{startIcon:"arrow_back",ghost:!0,size:"tiny",link:"/",normalCase:!0,$$slots:{default:[ie]},$$scope:{ctx:r}}}),$=new G({props:{startIcon:"contact_support",ghost:!0,size:"tiny",link:"/contacts",normalCase:!0,$$slots:{default:[ue]},$$scope:{ctx:r}}}),{c(){t=y("div"),a=y("div"),e=y("form"),C(n.$$.fragment),w=L(),o&&o.c(),k=L(),C(i.$$.fragment),j=L(),b=y("div"),m=y("div"),C(p.$$.fragment),x=L(),C($.$$.fragment),this.h()},l(s){t=E(s,"DIV",{class:!0});var l=V(t);a=E(l,"DIV",{class:!0});var g=V(a);e=E(g,"FORM",{class:!0});var f=V(e);D(n.$$.fragment,f),w=O(f),o&&o.l(f),k=O(f),D(i.$$.fragment,f),f.forEach(u),j=O(g),b=E(g,"DIV",{class:!0});var I=V(b);m=E(I,"DIV",{class:!0});var h=V(m);D(p.$$.fragment,h),x=O(h),D($.$$.fragment,h),h.forEach(u),I.forEach(u),g.forEach(u),l.forEach(u),this.h()},h(){B(e,"class","px-5 py-7 flex flex-col gap-4"),B(m,"class","flex flex-row justify-between px-4"),B(b,"class","py-5"),B(a,"class","w-full bg-white shadow rounded-lg divide-y divide-gray-200"),B(t,"class","w-full max-w-sm mx-auto my-16 px-2")},m(s,l){A(s,t,l),_(t,a),_(a,e),z(n,e,null),_(e,w),o&&o.m(e,null),_(e,k),z(i,e,null),_(a,j),_(a,b),_(b,m),z(p,m,null),_(m,x),z($,m,null),H=!0,F||(M=X(e,"submit",r[2]),F=!0)},p(s,[l]){const g={};!c&&l&1&&(c=!0,g.value=s[0],Y(()=>c=!1)),n.$set(g),s[1]?o?(o.p(s,l),l&2&&d(o,1)):(o=T(s),o.c(),d(o,1),o.m(e,k)):o&&(te(),v(o,1,1,()=>{o=null}),Z());const f={};l&32&&(f.$$scope={dirty:l,ctx:s}),i.$set(f);const I={};l&32&&(I.$$scope={dirty:l,ctx:s}),p.$set(I);const h={};l&32&&(h.$$scope={dirty:l,ctx:s}),$.$set(h)},i(s){H||(d(n.$$.fragment,s),d(o),d(i.$$.fragment,s),d(p.$$.fragment,s),d($.$$.fragment,s),H=!0)},o(s){v(n.$$.fragment,s),v(o),v(i.$$.fragment,s),v(p.$$.fragment,s),v($.$$.fragment,s),H=!1},d(s){s&&u(t),q(n),o&&o.d(),q(i),q(p),q($),F=!1,M()}}}function ce(r,t,a){let e="",n;async function c(){a(1,{error:n}=await re.auth.signInWithOtp({email:e}),n),n||ae("/")}function w(i){e=i,a(0,e)}return[e,n,c,w,()=>a(1,n=null)]}class he extends W{constructor(t){super(),J(this,t,ce,fe,K,{})}}export{he as default};
